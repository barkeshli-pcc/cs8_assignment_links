<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Assignment: test html</title>
</head>
<body>
<pre><span class="keyword">template</span><span class="operator"> &lt;</span><span class="keyword">typename</span> T<span class="operator">&gt;</span><span class="keyword">
struct</span> tree_node<span class="operator">{</span>
    T _item<span class="operator">;</span>
    tree_node<span class="operator">&lt;</span>T<span class="operator">&gt;*</span> _left<span class="operator">;</span>
    tree_node<span class="operator">&lt;</span>T<span class="operator">&gt;*</span> _right<span class="operator">;</span><span class="type">
    int</span> _height<span class="operator">;</span><span class="type">
    int</span> balance_factor<span class="operator">(){</span><span class="comment">
        //height of the left subtree - the height of the right subtree
        //a NULL child has a height of -1
        //a leaf has a height of 0
</span><span class="keyword">
        const</span><span class="type"> bool</span> debug<span class="operator"> =</span><span class="bool"> false</span><span class="operator">;</span><span class="flow">
        if</span><span class="operator"> (</span>debug<span class="operator">)</span> cout<span class="operator">&lt;&lt;</span><span class="string">"balance_factor at ["</span><span class="operator">&lt;&lt;</span>_item<span class="operator">&lt;&lt;</span><span class="string">"]"</span><span class="operator">&lt;&lt;</span>endl<span class="operator">;</span><span class="type">
        int</span> left_h<span class="operator">  =</span> _left<span class="operator">     ?</span> _left<span class="operator">-&gt;</span>_height<span class="operator">    :   -</span><span class="int">1</span><span class="operator">;</span><span class="type">
        int</span> right_h<span class="operator"> =</span> _right<span class="operator">    ?</span> _right<span class="operator">-&gt;</span>_height<span class="operator">   :   -</span><span class="int">1</span><span class="operator">;</span><span class="flow">
        if</span><span class="operator"> (</span>debug<span class="operator">)</span> cout<span class="operator">&lt;&lt;</span><span class="string">"L: "</span><span class="operator">&lt;&lt;</span>left_h<span class="operator">&lt;&lt;</span><span class="string">" - R: "</span><span class="operator">&lt;&lt;</span>right_h<span class="operator">&lt;&lt;</span>endl<span class="operator">;</span><span class="flow">
        return</span> left_h<span class="operator"> -</span> right_h<span class="operator">;
    }</span><span class="type">

    int</span> height<span class="operator">(){</span><span class="comment">
        // Height of a node is 1 + height of the "taller" child
        //A leaf node has a height of zero: 1 + max(-1,-1)

        //height() assumes the children's heights are up to date.
</span><span class="type">
        int</span> left_h<span class="operator">  =</span> _left<span class="operator">     ?</span> _left<span class="operator">-&gt;</span>_height<span class="operator">    :   -</span><span class="int">1</span><span class="operator">;</span><span class="type">
        int</span> right_h<span class="operator"> =</span> _right<span class="operator">    ?</span> _right<span class="operator">-&gt;</span>_height<span class="operator">   :   -</span><span class="int">1</span><span class="operator">;</span><span class="flow">

        return</span><span class="int"> 1</span><span class="operator">+</span>Max<span class="operator">(</span>left_h<span class="operator">,</span> right_h<span class="operator">);
    }</span><span class="type">
    int</span> update_height<span class="operator">(){</span><span class="comment">
        //set the _height member variable (call height();)
</span>        _height<span class="operator"> =</span> height<span class="operator">();
    }</span>

    tree_node<span class="operator">(</span>T item<span class="operator">=</span>T<span class="operator">(),</span> tree_node<span class="operator">*</span> left<span class="operator">=</span>NULL<span class="operator">,</span> tree_node<span class="operator">*</span> right<span class="operator">=</span>NULL<span class="operator">):</span>
                    _item<span class="operator">(</span>item<span class="operator">),</span> _left<span class="operator">(</span>left<span class="operator">),</span> _right<span class="operator">(</span>right<span class="operator">)
    {</span>

        _height<span class="operator"> =</span> height<span class="operator">();</span>
        cout<span class="operator">&lt;&lt;</span><span class="string">"tree_node CTOR: item: "</span><span class="operator">&lt;&lt;</span>_item<span class="operator">&lt;&lt;</span><span class="string">":"</span><span class="operator">&lt;&lt;</span>_height<span class="operator">&lt;&lt;</span>endl<span class="operator">;
    }</span><span class="keyword">
    friend</span> ostream<span class="operator">&amp;</span><span class="keyword"> operator</span><span class="operator"> &lt;&lt;(</span>ostream<span class="operator">&amp;</span> outs<span class="operator">,</span><span class="keyword"> const</span> tree_node<span class="operator">&lt;</span>T<span class="operator">&gt;&amp;</span> t_node<span class="operator">){</span>
        outs<span class="operator">&lt;&lt;</span><span class="string">"|"</span><span class="operator">&lt;&lt;</span>t_node<span class="operator">.</span>_item<span class="operator">&lt;&lt;</span><span class="string">"|"</span><span class="operator">;
    }
};</span>
</pre>
</body>
</html>